# ========================================
# ENVIRONMENT CONFIGURATION
# ========================================
NODE_ENV=development
LOG_LEVEL=info

# ========================================
# SERVICE PORTS
# ========================================
API_GATEWAY_PORT=3000
USER_SERVICE_PORT=3001
PAYMENT_SERVICE_PORT=3002
AUDIT_SERVICE_PORT=3003
PRICING_SERVICE_PORT=3005
WEB_APP_PORT=3004

# ========================================
# SUPABASE CONFIGURATION (Serverless Database)
# ========================================
# Get these from: https://app.supabase.com -> Project Settings -> API
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database Schemas (per service)
USER_DB_SCHEMA=user_schema
PAYMENT_DB_SCHEMA=payment_schema
AUDIT_DB_SCHEMA=audit_schema
PRICING_DB_SCHEMA=pricing_schema

# ========================================
# RABBITMQ CONFIGURATION (Message Queue)
# ========================================
# Local Development
RABBITMQ_URL=amqp://dev_user:dev_password@localhost:5672
RABBITMQ_MANAGEMENT_URL=http://localhost:15672

# CloudAMQP (Production/Serverless)
# RABBITMQ_URL=amqps://username:password@host.cloudamqp.com/vhost
# RABBITMQ_MANAGEMENT_URL=https://host.cloudamqp.com

# Queue Names
QUEUE_PAYMENT_NOTIFICATIONS=payment.notifications
QUEUE_AUDIT_LOGS=audit.logs
QUEUE_RECONCILIATION=reconciliation.jobs
QUEUE_PRICING_UPDATES=pricing.updates
QUEUE_USER_EVENTS=user.events

# ========================================
# REDIS CONFIGURATION (Caching & Sessions)
# ========================================
# Local Development
REDIS_URL=redis://localhost:6379

# Upstash Redis (Serverless)
# REDIS_URL=rediss://default:password@host.upstash.io:port
# UPSTASH_REDIS_REST_URL=https://host.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token-here

# ========================================
# JWT & AUTHENTICATION
# ========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_SECRET=your-refresh-token-secret-change-this
REFRESH_TOKEN_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=86400000

# ========================================
# EMAIL CONFIGURATION (Nodemailer)
# ========================================
# Email Service Provider (gmail, outlook, yahoo, custom)
EMAIL_SERVICE=gmail

# Gmail Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password-here

# Outlook/Hotmail Configuration
# EMAIL_HOST=smtp-mail.outlook.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=your-email@outlook.com
# EMAIL_PASS=your-password-here

# Yahoo Configuration
# EMAIL_HOST=smtp.mail.yahoo.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=your-email@yahoo.com
# EMAIL_PASS=your-app-password-here

# Custom SMTP Configuration
# EMAIL_HOST=your-smtp-host.com
# EMAIL_PORT=587
# EMAIL_SECURE=true
# EMAIL_USER=your-username
# EMAIL_PASS=your-password

# Email Settings
EMAIL_FROM_NAME=CalvaryPay System
EMAIL_FROM_ADDRESS=noreply@CalvaryPay.com
EMAIL_REPLY_TO=support@CalvaryPay.com

# Email Templates
EMAIL_TEMPLATE_DIR=./templates/emails

# ========================================
# SMS CONFIGURATION
# ========================================
# SMS Provider (termii, africastalking, twilio)
SMS_PROVIDER=termii

# Termii Configuration
TERMII_API_KEY=your-termii-api-key
TERMII_SENDER_ID=CalvaryPay
TERMII_BASE_URL=https://api.ng.termii.com

# Africa's Talking Configuration
# AFRICASTALKING_USERNAME=your-username
# AFRICASTALKING_API_KEY=your-api-key
# AFRICASTALKING_SENDER_ID=CalvaryPay

# Twilio Configuration
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# PAYMENT PROVIDERS
# ========================================
# Paystack Configuration
PAYSTACK_SECRET_KEY=sk_test_your-paystack-secret-key
PAYSTACK_PUBLIC_KEY=pk_test_your-paystack-public-key
PAYSTACK_WEBHOOK_SECRET=your-webhook-secret
PAYSTACK_BASE_URL=https://api.paystack.co

# Flutterwave (Fallback)
FLUTTERWAVE_SECRET_KEY=FLWSECK_TEST-your-flutterwave-secret
FLUTTERWAVE_PUBLIC_KEY=FLWPUBK_TEST-your-flutterwave-public
FLUTTERWAVE_WEBHOOK_SECRET=your-flutterwave-webhook-secret

# ========================================
# CURRENCY & PRICING
# ========================================
# Currency API (fixer.io, exchangerate-api.com)
CURRENCY_API_PROVIDER=exchangerate-api
CURRENCY_API_KEY=your-currency-api-key
CURRENCY_API_BASE_URL=https://v6.exchangerate-api.com/v6

# Default Currency
DEFAULT_CURRENCY=NGN
SUPPORTED_CURRENCIES=NGN,KES,GHS,ZAR,USD

# ========================================
# FILE STORAGE
# ========================================
# Storage Provider (supabase, aws-s3, cloudinary)
STORAGE_PROVIDER=supabase

# Supabase Storage
SUPABASE_STORAGE_BUCKET=receipts

# AWS S3 Configuration
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=CalvaryPay-files

# Cloudinary Configuration
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# ========================================
# SECURITY & ENCRYPTION
# ========================================
# HMAC Secret for Audit Logs
AUDIT_HMAC_SECRET=your-audit-hmac-secret-change-this

# Encryption Key for Sensitive Data
ENCRYPTION_KEY=your-32-character-encryption-key

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3004,https://your-frontend-domain.com
CORS_CREDENTIALS=true

# ========================================
# MONITORING & OBSERVABILITY
# ========================================
# Application Monitoring
APP_NAME=CalvaryPay
APP_VERSION=1.0.0

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# Correlation ID
CORRELATION_ID_HEADER=X-Correlation-ID

# ========================================
# EXTERNAL SERVICES
# ========================================
# Mock Payment Provider (for testing)
MOCK_PAYMENT_ENABLED=false
MOCK_PAYMENT_SUCCESS_RATE=0.9

# Webhook URLs (for external services)
WEBHOOK_BASE_URL=https://your-domain.com
PAYSTACK_WEBHOOK_URL=https://your-domain.com/api/webhooks/paystack

# ========================================
# DEVELOPMENT & TESTING
# ========================================
# Test Database (separate Supabase project)
TEST_SUPABASE_URL=https://your-test-project.supabase.co
TEST_SUPABASE_SERVICE_KEY=your-test-service-key

# Test Email (for development)
TEST_EMAIL_ENABLED=true
TEST_EMAIL_RECIPIENT=test@example.com

# Debug Settings
DEBUG_ENABLED=false
DEBUG_NAMESPACE=CalvaryPay:*

# ========================================
# FRONTEND CONFIGURATION (Next.js)
# ========================================
# Public environment variables (prefixed with NEXT_PUBLIC_)
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
NEXT_PUBLIC_PAYSTACK_PUBLIC_KEY=pk_test_your-paystack-public-key
NEXT_PUBLIC_APP_NAME=CalvaryPay
NEXT_PUBLIC_APP_VERSION=1.0.0

# ========================================
# BUSINESS CONFIGURATION
# ========================================
# Company Information
COMPANY_NAME=CalvaryPay
COMPANY_EMAIL=info@calvarypay.com
COMPANY_PHONE=+234-xxx-xxx-xxxx
COMPANY_ADDRESS=Your Company Address

# Business Rules
MIN_PAYMENT_AMOUNT=100
MAX_PAYMENT_AMOUNT=1000000
RECONCILIATION_TIME_WINDOW=600000
PRICE_CACHE_TTL=3600

# Notification Settings
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000
EMAIL_QUEUE_CONCURRENCY=5
SMS_QUEUE_CONCURRENCY=10
